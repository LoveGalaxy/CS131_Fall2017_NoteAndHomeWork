## CS131
### Lecture 2: Color
#### 1.物理学中的颜色

**什么是颜色**

- 颜色是光源、系统与我们的视觉系统产生交互产生的结果。
- 白光由所有的可见光混合组成。
- 太阳的温度使的它发出的黄光要多与别的颜色的光。
- 可见光波长约在400nm-700nm之间。
- 反射颜色是光源光谱与表面反射率相互作用的结果。

#### 2.人类对颜色的处理

**2.1 杆和锥体**
当我们观察一个场景时，光线首先通过瞳孔进入我们的眼睛，到达视网膜。视网膜主要由两种类型的光敏细胞组成：视杆细胞和视锥细胞（以其在显微镜下的外观命名）。视杆细胞更多，并且具有高灵敏度，使其成为在弱光条件下检测物体的理想选择。但是，它们不会编码任何颜色信息。另一方面，视锥细胞数量较少且灵敏度较低，但它们可用于区分高光条件下的物体。它们还允许我们通过下面讨论的机制来感知颜色。
**2.2视锥细胞和颜色**
视杆细胞与视锥细胞之间的关键区别在于后者有三种不同的类型，每种类型的区别在于对不同波长的光的独特响应曲线。每个响应曲线在独特波长处达到峰值，即440,530和560nm，与蓝色，绿色和红色对齐。
视锥细胞和视杆细胞都起到滤波器的作用，其输出可以解释为每个响应曲线乘以光谱，在所有波长上积分。虽然由得到的三个数字编码的信息对于大多数任务是足够的，但是在视网膜中从光谱到电脉冲的压缩中丢失了一些信息。~~这意味着某些光谱子集将被错误地认为是相同的，这种光谱称为metamers。~~
**2.3颜色匹配**
由于我们需要设计能够为观众提供一致视觉体验的系统，因此了解可以组合的最小颜色，用以创建任何可感知颜色的体验是有帮助的。 Wandell的视觉基础（Sinauer Assoc。，1995）的实验表明，大多数人报告通过调整三种不同颜色的实验灯，能够重建给定测试光的颜色。唯一的条件是三个灯中的每一个必须是原色。此外，实验表明，对于相同的测试光和原色，大多数人选择相似的比例（色盲人除外）。这个实验也证实了颜色的三色理论，既三个数字足以编码颜色。

#### 3.颜色空间

**3.1 定义**
颜色空间，也称为颜色模型（或颜色系统），是一种抽象的数学模型，它将颜色范围描述为数组，通常为3或4个值或颜色分量（例如RGB）。
一种颜色的编码方式
**3.2 线性颜色空间**
- RGB Space
- CIE XYZ Color Space
**3.3 非线性颜色空间**
- HSV
    - Hue, Saturation, Value

#### 4.白平衡
使图片信息接近于人眼观察到的真实感受

由于一些原因，未经调整的图像具有不自然的颜色“投射”，使得白平衡非常重要：
1. 相机或胶卷中的传感器与我们眼中的传感器不同
2. 不同的显示媒体以不同方式渲染图像，必须考虑这些图像
3. 拍摄图像时的观看条件通常与图像观看条件不同

**最好的办法：gray card**
找到白色或者灰色的物体，对应通道值为$r_w$, $g_w$, $b_w$,
将图片每一个通道乘以系数$1/r_w$, $1/g_w$, $1/b_w$

怎么知道哪个是正确的白色或者灰色
- 均值
    假设 $r_{avg}$, $g_{avg}$, $b_{avg}$ 就是灰色
- 最亮值为白色
- 等等方法
